<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="common">
	
	<sql id="pagingQueryHead">
	</sql>
	
	<sql id="pagingQueryFoot">
		OFFSET ${pagingQueryStartIndex} ROWS FETCH NEXT ${pagingQueryRows} ROWS ONLY
	</sql>
	
	<sql id="queryCondition">
		<if test="queryCondition != null">
		AND (${queryCondition})
		</if>
	</sql>
	
	<sql id="queryOrder">
		<if test="queryOrder != null">
		ORDER BY ${queryOrder}
		</if>
	</sql>
	
	<!-- 带有createUser属性的查询字段，用于表的别名必须为：USR -->
	<sql id="fieldsForCreateUser">
		USR.USER_NAME AS ${_iq_}createUser.name${_iq_},
		USR.USER_REAL_NAME AS ${_iq_}createUser.realName${_iq_},
		(CASE WHEN USR.USER_IS_ADMIN IS NULL THEN '0' ELSE USR.USER_IS_ADMIN END) AS ${_iq_}createUser.admin${_iq_},
		(CASE WHEN USR.USER_ID IS NULL THEN '1' ELSE '0' END) AS ${_iq_}createUser.anonymous${_iq_},
		USR.USER_CREATE_TIME AS ${_iq_}createUser.createTime${_iq_},
	</sql>
</mapper>